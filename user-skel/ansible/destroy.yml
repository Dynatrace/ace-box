---
- hosts: localhost
  connection: local
  become: true
  become_user: "{{ ace_box_user | default(lookup('env','USER')) }}"
  vars:
    ace_config_file_path: "./ace.config.yml"
  tasks:
    - include_vars: "{{ ace_config_file_path }}"
    - include_role:
        name: cloudautomation
        tasks_from: destroy
    - include_role:
        name: demo-auto-remediation-ansible
        tasks_from: destroy
    - include_role:
        name: dt-activegate-private-synth-classic
        tasks_from: destroy
    - include_role:
        name: dt-oneagent-classic
        tasks_from: destroy
    - include_role:
        name: dt-operator
        tasks_from: destroy
    - include_role:
        name: gitlab
        tasks_from: destroy
    - include_role:
        name: jenkins
        tasks_from: destroy
    - include_role:
        name: keptn
        tasks_from: destroy
    - include_role:
        name: monaco
        tasks_from: destroy
    - include_role:
        name: otel-collector
        tasks_from: destroy
