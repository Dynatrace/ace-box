configs:
  - id: easytrade
    config:
      name: EasyTrade
      template: easytrade.json
      skip: false
    type:
      api: application-web
  - id: easytrade-proxy
    config:
      parameters:
        easytrade_web_app:
          configId: easytrade
          configType: application-web
          property: id
          type: reference
        pattern:
          type: compound
          format: "{{ .releaseProduct }}-{{ .releaseStage }}.{{ .ingressDomain }}"
          references:
            - ingressProtocol
            - releaseProduct
            - releaseStage
            - ingressDomain
        ingressProtocol:
          type: environment
          name: INGRESS_PROTOCOL
        releaseProduct:
          type: environment
          name: RELEASE_PRODUCT
        releaseStage:
          type: environment
          name: RELEASE_STAGE
        ingressDomain:
          type: environment
          name: INGRESS_DOMAIN
      template: easytrade-proxy.json
      skip: false
    type:
      settings:
        schema: builtin:rum.web.app-detection
        scope: environment

  # ownership
  - id: ownership-demo-rv
    type:
      settings:
        schema: builtin:ownership.teams
        scope: environment
    config:
      skip: false
      name:
        type: compound
        format: "Team Demo {{ .releaseProduct }} {{ .releaseStage }}"
        references:
          - releaseStage
          - releaseProduct
      template: ownership.json
      parameters:        
        releaseProduct:
          type: environment
          name: RELEASE_PRODUCT
        releaseStage:
          type: environment
          name: RELEASE_STAGE 
        demoIdentifier:
          type: environment
          name: DEMO_IDENTIFIER     
        description: "Demo team for Easytrade"
        identifier:
          type: compound
          format: "{{ .demoIdentifier }}-{{ .releaseProduct }}-{{ .releaseStage }}"
          references:
            - demoIdentifier 
            - releaseStage 
            - releaseProduct    
        supplementaryIdentifier:
          type: compound
          format: "{{ .demoIdentifier }}-{{ .releaseProduct }}"
          references:
            - demoIdentifier 
            - releaseProduct             
        isDevelopment: false
        isSecurity: true
        isOperations: true
        isInfrastructure: true
        isLineofBusiness: false
        gitlabAssigneeID: "1"       
        
        email: team-demo@your-company.com
        jiraProjectId: "ProjectDemo"
        jiraDefaultAssigneeId: "team-demo"
        slackChannel: "#team-demo"
        slackChannelURL: "https://demoworkflowworkspace.slack.com"

